{% extends "base.html" %}

{% block title %}{{ action }} Revenue Milestone - AnchorOS{% endblock %}

{% block content %}
<div class="mb-8">
    <div class="flex items-center gap-4">
        <a href="{{ url_for('battlepass.manage_milestones') }}" class="p-2 rounded-lg hover:bg-white/10 text-medium hover:text-high transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
        </a>
        <div>
            <h1 class="text-3xl font-bold text-high">{{ action }} Revenue Milestone</h1>
            <p class="text-medium mt-1">{% if action == 'Add' %}Create a new revenue milestone reward{% else %}Update this milestone{% endif %}</p>
        </div>
    </div>
</div>

<div class="max-w-2xl">
    <form method="POST" class="glass-card p-8">
        <div class="space-y-6">
            <div>
                <label for="target_revenue" class="block text-sm font-medium text-high mb-2">Target Revenue ($)</label>
                <input type="number" 
                       id="target_revenue" 
                       name="target_revenue" 
                       step="100"
                       min="0"
                       value="{{ reward.target_revenue if reward else '' }}"
                       class="input-glass w-full"
                       placeholder="e.g., 10000"
                       required>
                <p class="text-sm text-low mt-1">The lifetime revenue amount needed to unlock this reward</p>
            </div>
            
            <div>
                <label for="reward_text" class="block text-sm font-medium text-high mb-2">Reward Description</label>
                <input type="text" 
                       id="reward_text" 
                       name="reward_text" 
                       value="{{ reward.reward_text if reward else '' }}"
                       class="input-glass w-full"
                       placeholder="e.g., Weekend Getaway"
                       required>
                <p class="text-sm text-low mt-1">What you'll reward yourself with when you hit this milestone</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-high mb-3">Reward Icon</label>
                <div class="grid grid-cols-7 gap-2">
                    {% for value, label in icon_choices %}
                    <label class="relative cursor-pointer">
                        <input type="radio" 
                               name="reward_icon" 
                               value="{{ value }}" 
                               class="sr-only peer"
                               {% if (reward and reward.reward_icon == value) or (not reward and value == 'racecar') %}checked{% endif %}>
                        <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-2xl
                                    hover:bg-white/10 hover:border-aqua/50 transition-all
                                    peer-checked:bg-aqua/20 peer-checked:border-aqua peer-checked:ring-2 peer-checked:ring-aqua/50">
                            {% if value == 'racecar' %}ğŸï¸
                            {% elif value == 'plane' %}âœˆï¸
                            {% elif value == 'car' %}ğŸš—
                            {% elif value == 'crown' %}ğŸ‘‘
                            {% elif value == 'rocket' %}ğŸš€
                            {% elif value == 'watch' %}âŒš
                            {% elif value == 'laptop' %}ğŸ’»
                            {% elif value == 'home' %}ğŸ 
                            {% elif value == 'chart' %}ğŸ“ˆ
                            {% elif value == 'star' %}â­
                            {% elif value == 'dinner' %}ğŸ½ï¸
                            {% elif value == 'hourglass' %}â³
                            {% elif value == 'camera' %}ğŸ“¸
                            {% else %}ğŸ
                            {% endif %}
                        </div>
                    </label>
                    {% endfor %}
                </div>
            </div>
        </div>
        
        <div class="flex items-center justify-end gap-3 mt-8 pt-6 border-t border-white/10">
            <a href="{{ url_for('battlepass.manage_milestones') }}" class="btn-secondary">Cancel</a>
            <button type="submit" class="btn-primary">
                {% if action == 'Add' %}Create Milestone{% else %}Save Changes{% endif %}
            </button>
        </div>
    </form>
</div>
{% endblock %}
